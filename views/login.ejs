<%- include('partials/header', { title: 'Login' }) %>

<style>
    /*
    ============================================
    --- AUTHENTICATION PAGE STYLING (LOGIN & REGISTER) ---
    ============================================
    */
    body {
        /* Override default padding-top for full-page layout */
        padding-top: 0;
        background-color: var(--color-bg-light);
    }
    .main-content { padding-bottom: 0; }
    .top-bar { /* Make header float above */
        background: transparent;
        box-shadow: none;
        position: absolute;
    }
    .top-bar-brand span { color: white; }

    .auth-container {
        display: grid;
        grid-template-columns: 1fr 1fr;
        min-height: 100vh;
    }

    /* --- Branding Side (Left) --- */
    .auth-brand-side {
        background: var(--gradient-primary);
        color: var(--color-text-light);
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-align: center;
        padding: 3rem;
        position: relative;
    }
    .brand-logo {
        position: absolute;
        top: 40px;
        left: 40px;
        display: flex;
        align-items: center;
        gap: 10px;
    }
    .brand-logo img { height: 40px; }
    .brand-logo span { font-size: 1.5rem; font-family: 'Montserrat', sans-serif; font-weight: 700; color: white; }
    .auth-brand-side h2 {
        font-size: 2.5rem;
        margin-bottom: 1rem;
    }
    .auth-brand-side p {
        font-size: 1.1rem;
        opacity: 0.8;
        max-width: 400px;
    }
    .auth-brand-side .illustration {
        max-width: 450px;
        width: 100%;
        margin-top: 3rem;
    }

    /* --- Form Side (Right) --- */
    .auth-form-side {
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 3rem;
        background-color: white;
    }
    .auth-card {
        width: 100%;
        max-width: 450px;
    }
    .auth-card h1 {
        font-size: 2.5rem;
        font-weight: 800;
        color: var(--color-text-dark);
        margin-bottom: 0.75rem;
    }
    .auth-subtext {
        font-size: 1rem;
        color: var(--color-text-muted);
        margin-bottom: 2.5rem;
    }
    .auth-subtext a {
        color: var(--color-primary-start);
        font-weight: 600;
        text-decoration: none;
    }
    .auth-subtext a:hover { text-decoration: underline; }

    /* Form Inputs with Icons */
    .input-group {
        position: relative;
        margin-bottom: 1.5rem;
    }
    .input-group .icon {
        position: absolute;
        left: 20px;
        top: 50%;
        transform: translateY(-50%);
        color: var(--color-text-muted);
        font-size: 1.2rem;
    }
    .input-group .form-control {
        width: 100%;
        padding: 18px 20px 18px 55px;
        border-radius: var(--border-radius-md);
        background-color: var(--color-bg-light);
        border: 1px solid var(--color-border);
        font-size: 1rem;
    }
    .input-group .form-control:focus {
        background-color: white;
        border-color: var(--color-primary-start);
        box-shadow: 0 0 0 3px rgba(74, 0, 224, 0.15);
    }
    
    /* Auth Button */
    .btn-auth {
        width: 100%;
        padding: 18px;
        font-size: 1.1rem;
    }

    /* Footer link (Forgot password) */
    .auth-footer {
        text-align: center;
        margin-top: 2rem;
    }
    .auth-footer a {
        color: var(--color-text-muted);
        text-decoration: none;
    }
    .auth-footer a:hover {
        color: var(--color-primary-start);
        text-decoration: underline;
    }

    /* Grid for Register Page */
    .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }

    /* Responsive adjustments */
    @media (max-width: 992px) {
        .auth-container {
            grid-template-columns: 1fr;
        }
        .auth-brand-side {
            display: none; /* Hide brand side on mobile for a cleaner look */
        }
        .auth-form-side {
            padding: 2rem 1.5rem;
        }
        .top-bar { /* Show header on mobile */
            position: fixed; background-color: white; box-shadow: var(--shadow-sm);
        }
        .top-bar-brand span { color: var(--color-text-dark); }
        body { padding-top: 70px; } /* Add padding back */
    }
</style>

<div class="auth-container">
    <div class="auth-brand-side">
        <a href="/" class="brand-logo">
            <img src="https://files.catbox.moe/sepzlr.png" alt="Logo DigitalHostID">
            <span>DigitalHostID</span>
        </a>
        <h2>Selamat Datang Kembali!</h2>
        <p>Masuk untuk melanjutkan dan mengelola semua aset digital Anda di satu tempat.</p>
        <img src="https://cdni.iconscout.com/illustration/premium/thumb/login-3305943-2757111.png" alt="Login Illustration" class="illustration">
    </div>

    <div class="auth-form-side">
        <div class="auth-card">
            <h1>Login Akun</h1>
            <p class="auth-subtext">
                Belum punya akun? <a href="/register">Daftar di sini</a>
            </p>

            <% if (typeof error !== 'undefined' && error) { %>
                <div class="alert alert-danger" style="margin-bottom: 1.5rem;"><%= error %></div>
            <% } %>
            <% if (locals.success_msg && success_msg.length > 0) { %>
                <div class="alert alert-success" style="margin-bottom: 1.5rem;"><%= success_msg[0] %></div>
            <% } %>

            <form action="/login" method="POST">
                <div class="input-group">
                    <i class="fas fa-envelope icon"></i>
                    <input type="email" id="email" name="email" class="form-control" placeholder="Alamat Email" required>
                </div>
                <div class="input-group">
                    <i class="fas fa-lock icon"></i>
                    <input type="password" id="password" name="password" class="form-control" placeholder="Password" required>
                </div>
                <button type="submit" class="btn btn-primary btn-auth">Masuk</button>
            </form>
        </div>
    </div>
</div>

<%- include('partials/footer') %>